*
* $Id$
*
* $Log$
* Revision 1.1  1996/03/08 15:21:42  mclareni
* Initial revision
*
*
#include "epio/pilot.h"
      SUBROUTINE EPGETA(LUNIT,NW,IWS,IERR)
C.
C. INPUT:
C.
C. LUNIT    LOGICAL UNIT.
C.
C. NW       NUMBER OF STATUS WORDS ASKED FOR, ALWAYS STARTING
C.          AT WORD NO. 1.
C.
C. OUTPUT:
C.
C. IWS      STATUS WORDS 1...NW.
C.
C. IERR     ERROR FLAG. SEE SEPARATE LIST.
C.
#include "epio/epiocom.inc"
      DIMENSION IWS(2)
      IERR=0
      IF(NW.LE.0.OR.NW.GT.NWUNIT)  GOTO 9901
C--- CHECK WHETHER SAME USER UNIT AS LAST TIME
      IF(LASTUT.EQ.LUNIT)  GOTO 1551
C--- NEW UNIT - GET REF
      CALL EPUNIT(LUNIT,IERR)
      IF(IERR.EQ.0)  GOTO 1552
      GOTO 77777
 1551 IERR=0
      IF(LREF.NE.0)  GOTO 1552
      IERR=13
      CALL EPERRH(LUNIT,IERR)
      GOTO 77777
 1552 CONTINUE
      CALL UCOPY(LIST(ISTART+1),IWS,NW)
77777 RETURN
 9901 CONTINUE
C--- STATUS WORD REQUEST OUT OF RANGE
      IERR=16
      CALL EPERRH(LUNIT,IERR)
      GOTO 77777
      END
